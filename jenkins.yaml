- job:
    name: "CICD_Pipeline"
    display-name: "CI/CD Pipeline for RestAssured"
    description: "Automated CI/CD Pipeline triggered by Git changes"
    scm:
      - git:
          url: "git@github.com:https://github.com/Poonam257/RestAssuredTestNGFramework.git"
          branches:
            - "*/master"
    triggers:
      - githubPush()
    steps:
      - shell: "mvn clean package"
      - shell: "mvn test"
      - shell: "allure generate target/allure-results --clean -o target/allure-report"
    publishers:
      - email:
          recipients:
            - "yadav.poonam668@gmail.com"
          subject: "CI/CD Pipeline Build [#${BUILD_NUMBER}] Status: ${BUILD_STATUS}"
          body: |
            Build completed successfully.
            View the Allure Report: ${BUILD_URL}/artifact/target/allure-report/index.html
          attach-build-log: true